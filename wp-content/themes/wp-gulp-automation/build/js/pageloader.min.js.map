{"version":3,"sources":["pageloader.min.js"],"names":["factory","define","requirejs","r","rndKey","Date","getTime","onError","toString","err","message","indexOf","call","exports","module","emptyFunction","parseURL","href","isWindowLocation","isNotAPI","re","windowLocation","isSupportHistoryAPI","replace","protocol","host","settings","RegExp","current","base","document","getElementsByTagName","getAttribute","_pathname","_protocol","test","_host","_search","anchorElement","result","exec","pathname","search","hash","relative","nohash","_href","_hostname","_port","_hash","_relative","_nohash","_special","storageInitialize","sessionStorage","global","setItem","sessionStorageKey","removeItem","_e_","getItem","key","cookie","split","length","pop","shift","value","state","historyObject","JSON","stringify","stateStorage","parse","addEvent","eventNamePrefix","redefineProperty","object","prop","descriptor","onWrapped","testOnly","set","isDefinedSetter","isDefinedGetter","get","configurable","defineProperty","__defineGetter__","__defineSetter__","originalValue","removeEvent","onpopstate","setTimeout","triggerEventsInWindowAttributes","temp","Object","create","getPrototypeOf","bind","constructor","prototype","prepareDescriptorsForObject","locationDescriptors","addEventListener","event","listener","capture","eventsList","push","arguments","removeEventListener","list","i","splice","dispatchEvent","eventObject","eventType","type","target","props","onhashchange","len","dispatch","firePopState","o","createEvent","createEventObject","initEvent","fireInitialState","isFireInitialState","changeState","url","lastURLValue","lastURL","isUsedHistoryLocationFlag","urlObject","isSupportStateObjectInHistory","onHashChange","fireNow","checkUrlForPopState","oldURLObject","newURLObject","oldURL","newURL","onLoad","noScroll","e","scrollToAnchorId","locationObject","anchorTarget","nodeName","parentNode","onAnchorClick","srcElement","defaultPrevented","returnValue","expect","preventDefault","getElementById","id","rect","getBoundingClientRect","scrollTo","documentElement","scrollLeft","top","scrollTop","clientTop","window","this","history","customOrigin","location","windowHistory","historyPushState","pushState","historyReplaceState","replaceState","ua","navigator","userAgent","createElement","addEventListenerName","removeEventListenerName","dispatchEventName","basepath","redirect","init","lastTitle","title","eventsDescriptors","fastFixChrome","method","args","isNeedFix","apply","historyDescriptors","setup","self","path","t","assign","reload","flag","origin","hostname","port","scripts","src","a","data","hasOwnProperty","n","substr","readyState","root","amd","Spinner","createEl","tag","el","ins","parent","appendChild","addAnimation","alpha","trail","lines","name","join","start","z","Math","max","prefix","useCssAnimations","substring","toLowerCase","pre","animations","sheet","insertRule","cssRules","vendor","pp","s","style","charAt","toUpperCase","slice","undefined","prefixes","css","merge","obj","def","getColor","color","idx","opts","defaults","width","radius","scale","corners","opacity","rotate","direction","speed","fps","zIndex","className","left","shadow","hwaccel","position","spin","stop","insertBefore","firstChild","setAttribute","f","ostep","astep","anim","j","timeout","clearTimeout","removeChild","fill","height","background","boxShadow","transformOrigin","transform","borderRadius","seg","animation","val","childNodes","styleSheet","probe","behavior","adj","vml","attr","addRule","grp","coordsize","coordorigin","dx","filter","g","rotation","arcsize","margin","c","require","Error","jQuery","$","fn","each","$this","spinner","extend","presets","tiny","small","large","PG8","PG8Data","PageLoader","thisLink","nextLink","thisPage","parseInt","startPage","nextPage","maxPages","maxedOut","ajaxPageLoader","content","children","wrapAll","encodeURI","holder","handler","append","$window","on","next","parents","before","show","loader","firstPage","firstTop","offset","firstLink","winTop","pusher","scrollOffset","bottom","outerHeight","pushDelay","infinScroll","scrollHeight","scrollPosition","scrollLastPage","scrollDiff","infinOffset","infinFooter","trigger","infinDelay","isFunction","after","spinOpts","hide","page","link","load","$navLink","remove","is","prev","loaded","scroll","analytics","animate","scrollDelay","ga","_gaq","body","timeago","refresh","$s","$t","autoDispose","contains","prepareData","isNaN","datetime","cutoff","abs","distance","text","inWords","element","trim","localeTitle","toLocaleString","isTime","date","timestamp","refreshMillis","allowPast","allowFuture","strings","prefixAgo","prefixFromNow","suffixAgo","suffixFromNow","inPast","seconds","minute","minutes","hour","hours","day","days","month","months","year","years","wordSeparator","numbers","distanceMillis","substitute","stringOrFunction","number","string","$l","suffix","words","round","separator","iso8601","elem","tagName","functions","dispose","refresh_el","proxy","_timeagoInterval","setInterval","update","updateFromDOM","clearInterval","action","options","selectedStates","stateArr","alaska","arizona","arkansas","california","colorado","connecticut","delaware","florida","hawaii","illinois","maine","maryland","massachusetts","michigan","minnesota","montana","nevada","new-hampshire","new-jersey","new-mexico","new-york","north-dakota","ohio","oregon","pennsylvania","rhode-island","vermont","washington","west-virginia","ready","vectorMap","map","enableZoom","backgroundColor","showTooltip","hoverColor","selectedColor","borderColor","selectedRegions","onRegionOver","code","onRegionClick","region"],"mappings":"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","file":"pageloader.min.js","sourcesContent":["/*!\n * History API JavaScript Library v4.2.8\n *\n * Support: IE8+, FF3+, Opera 9+, Safari, Chrome and other\n *\n * Copyright 2011-2017, Dmitrii Pakhtinov ( spb.piksel@gmail.com )\n *\n * http://spb-piksel.ru/\n *\n * MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n * Update: 2017-03-01 12:07\n */\n(function(factory) {\n  if (typeof define === 'function' && define['amd']) {\n    if (typeof requirejs !== 'undefined') {\n      // https://github.com/devote/HTML5-History-API/issues/73\n      var r = requirejs,\n          rndKey = '[history' + (new Date()).getTime() + ']';\n      var onError = r['onError'];\n      factory.toString = function() {\n        return rndKey;\n      };\n      r['onError'] = function(err) {\n        if (err.message.indexOf(rndKey) === -1) {\n          onError.call(r, err);\n        }\n      };\n    }\n    define([], factory);\n  }\n  // commonJS support\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module['exports'] = factory();\n  } else {\n    // execute anyway\n    return factory();\n  }\n})(function() {\n  // Define global variable\n  var global = (typeof window === 'object' ? window : this) || {};\n  // Prevent the code from running if there is no window.history object or library already loaded\n  if (!global.history || \"emulate\" in global.history) return global.history;\n  // symlink to document\n  var document = global.document;\n  // HTML element\n  var documentElement = document.documentElement;\n  // symlink to constructor of Object\n  var Object = global['Object'];\n  // symlink to JSON Object\n  var JSON = global['JSON'];\n  // symlink to instance object of 'Location'\n  var windowLocation = global.location;\n  // symlink to instance object of 'History'\n  var windowHistory = global.history;\n  // new instance of 'History'. The default is a reference to the original object instance\n  var historyObject = windowHistory;\n  // symlink to method 'history.pushState'\n  var historyPushState = windowHistory.pushState;\n  // symlink to method 'history.replaceState'\n  var historyReplaceState = windowHistory.replaceState;\n  // if the browser supports HTML5-History-API\n  var isSupportHistoryAPI = isSupportHistoryAPIDetect();\n  // verifies the presence of an object 'state' in interface 'History'\n  var isSupportStateObjectInHistory = 'state' in windowHistory;\n  // symlink to method 'Object.defineProperty'\n  var defineProperty = Object.defineProperty;\n  // new instance of 'Location', for IE8 will use the element HTMLAnchorElement, instead of pure object\n  var locationObject = redefineProperty({}, 't') ? {} : document.createElement('a');\n  // prefix for the names of events\n  var eventNamePrefix = '';\n  // String that will contain the name of the method\n  var addEventListenerName = global.addEventListener ? 'addEventListener' : (eventNamePrefix = 'on') && 'attachEvent';\n  // String that will contain the name of the method\n  var removeEventListenerName = global.removeEventListener ? 'removeEventListener' : 'detachEvent';\n  // String that will contain the name of the method\n  var dispatchEventName = global.dispatchEvent ? 'dispatchEvent' : 'fireEvent';\n  // reference native methods for the events\n  var addEvent = global[addEventListenerName];\n  var removeEvent = global[removeEventListenerName];\n  var dispatch = global[dispatchEventName];\n  // default settings\n  var settings = {\"basepath\": '/', \"redirect\": 0, \"type\": '/', \"init\": 0};\n  // key for the sessionStorage\n  var sessionStorageKey = '__historyAPI__';\n  // Anchor Element for parseURL function\n  var anchorElement = document.createElement('a');\n  // last URL before change to new URL\n  var lastURL = windowLocation.href;\n  // Control URL, need to fix the bug in Opera\n  var checkUrlForPopState = '';\n  // for fix on Safari 8\n  var triggerEventsInWindowAttributes = 1;\n  // trigger event 'onpopstate' on page load\n  var isFireInitialState = false;\n  // if used history.location of other code\n  var isUsedHistoryLocationFlag = 0;\n  // store a list of 'state' objects in the current session\n  var stateStorage = {};\n  // in this object will be stored custom handlers\n  var eventsList = {};\n  // stored last title\n  var lastTitle = document.title;\n  // store a custom origin\n  var customOrigin;\n\n  /**\n   * Properties that will be replaced in the global\n   * object 'window', to prevent conflicts\n   *\n   * @type {Object}\n   */\n  var eventsDescriptors = {\n    \"onhashchange\": null,\n    \"onpopstate\": null\n  };\n\n  /**\n   * Fix for Chrome in iOS\n   * See https://github.com/devote/HTML5-History-API/issues/29\n   */\n  var fastFixChrome = function(method, args) {\n    var isNeedFix = global.history !== windowHistory;\n    if (isNeedFix) {\n      global.history = windowHistory;\n    }\n    method.apply(windowHistory, args);\n    if (isNeedFix) {\n      global.history = historyObject;\n    }\n  };\n\n  /**\n   * Properties that will be replaced/added to object\n   * 'window.history', includes the object 'history.location',\n   * for a complete the work with the URL address\n   *\n   * @type {Object}\n   */\n  var historyDescriptors = {\n    /**\n     * Setting library initialization\n     *\n     * @param {null|String} [basepath] The base path to the site; defaults to the root \"/\".\n     * @param {null|String} [type] Substitute the string after the anchor; by default \"/\".\n     * @param {null|Boolean} [redirect] Enable link translation.\n     */\n    \"setup\": function(basepath, type, redirect) {\n      settings[\"basepath\"] = ('' + (basepath == null ? settings[\"basepath\"] : basepath))\n        .replace(/(?:^|\\/)[^\\/]*$/, '/');\n      settings[\"type\"] = type == null ? settings[\"type\"] : type;\n      settings[\"redirect\"] = redirect == null ? settings[\"redirect\"] : !!redirect;\n    },\n    /**\n     * @namespace history\n     * @param {String} [type]\n     * @param {String} [basepath]\n     */\n    \"redirect\": function(type, basepath) {\n      historyObject['setup'](basepath, type);\n      basepath = settings[\"basepath\"];\n      if (global.top == global.self) {\n        var relative = parseURL(null, false, true)._relative;\n        var path = windowLocation.pathname + windowLocation.search;\n        if (isSupportHistoryAPI) {\n          path = path.replace(/([^\\/])$/, '$1/');\n          if (relative != basepath && (new RegExp(\"^\" + basepath + \"$\", \"i\")).test(path)) {\n            windowLocation.replace(relative);\n          }\n        } else if (path != basepath) {\n          path = path.replace(/([^\\/])\\?/, '$1/?');\n          if ((new RegExp(\"^\" + basepath, \"i\")).test(path)) {\n            windowLocation.replace(basepath + '#' + path.\n              replace(new RegExp(\"^\" + basepath, \"i\"), settings[\"type\"]) + windowLocation.hash);\n          }\n        }\n      }\n    },\n    /**\n     * The method adds a state object entry\n     * to the history.\n     *\n     * @namespace history\n     * @param {Object} state\n     * @param {string} title\n     * @param {string} [url]\n     */\n    pushState: function(state, title, url) {\n      var t = document.title;\n      if (lastTitle != null) {\n        document.title = lastTitle;\n      }\n      historyPushState && fastFixChrome(historyPushState, arguments);\n      changeState(state, url);\n      document.title = t;\n      lastTitle = title;\n    },\n    /**\n     * The method updates the state object,\n     * title, and optionally the URL of the\n     * current entry in the history.\n     *\n     * @namespace history\n     * @param {Object} state\n     * @param {string} title\n     * @param {string} [url]\n     */\n    replaceState: function(state, title, url) {\n      var t = document.title;\n      if (lastTitle != null) {\n        document.title = lastTitle;\n      }\n      delete stateStorage[windowLocation.href];\n      historyReplaceState && fastFixChrome(historyReplaceState, arguments);\n      changeState(state, url, true);\n      document.title = t;\n      lastTitle = title;\n    },\n    /**\n     * Object 'history.location' is similar to the\n     * object 'window.location', except that in\n     * HTML4 browsers it will behave a bit differently\n     *\n     * @namespace history\n     */\n    \"location\": {\n      set: function(value) {\n        if (isUsedHistoryLocationFlag === 0) isUsedHistoryLocationFlag = 1;\n        global.location = value;\n      },\n      get: function() {\n        if (isUsedHistoryLocationFlag === 0) isUsedHistoryLocationFlag = 1;\n        return locationObject;\n      }\n    },\n    /**\n     * A state object is an object representing\n     * a user interface state.\n     *\n     * @namespace history\n     */\n    \"state\": {\n      get: function() {\n        if (typeof stateStorage[windowLocation.href] === 'object') {\n          return JSON.parse(JSON.stringify(stateStorage[windowLocation.href]));\n        } else if(typeof stateStorage[windowLocation.href] !== 'undefined') {\n          return stateStorage[windowLocation.href];\n        } else {\n          return null;\n        }\n      }\n    }\n  };\n\n  /**\n   * Properties for object 'history.location'.\n   * Object 'history.location' is similar to the\n   * object 'window.location', except that in\n   * HTML4 browsers it will behave a bit differently\n   *\n   * @type {Object}\n   */\n  var locationDescriptors = {\n    /**\n     * Navigates to the given page.\n     *\n     * @namespace history.location\n     */\n    assign: function(url) {\n      if (!isSupportHistoryAPI && ('' + url).indexOf('#') === 0) {\n        changeState(null, url);\n      } else {\n        windowLocation.assign(url);\n      }\n    },\n    /**\n     * Reloads the current page.\n     *\n     * @namespace history.location\n     */\n    reload: function(flag) {\n      windowLocation.reload(flag);\n    },\n    /**\n     * Removes the current page from\n     * the session history and navigates\n     * to the given page.\n     *\n     * @namespace history.location\n     */\n    replace: function(url) {\n      if (!isSupportHistoryAPI && ('' + url).indexOf('#') === 0) {\n        changeState(null, url, true);\n      } else {\n        windowLocation.replace(url);\n      }\n    },\n    /**\n     * Returns the current page's location.\n     *\n     * @namespace history.location\n     */\n    toString: function() {\n      return this.href;\n    },\n    /**\n     * Returns the current origin.\n     *\n     * @namespace history.location\n     */\n    \"origin\": {\n      get: function() {\n        if (customOrigin !== void 0) {\n          return customOrigin;\n        }\n        if (!windowLocation.origin) {\n          return windowLocation.protocol + \"//\" + windowLocation.hostname + (windowLocation.port ? ':' + windowLocation.port: '');\n        }\n        return windowLocation.origin;\n      },\n      set: function(value) {\n        customOrigin = value;\n      }\n    },\n    /**\n     * Returns the current page's location.\n     * Can be set, to navigate to another page.\n     *\n     * @namespace history.location\n     */\n    \"href\": isSupportHistoryAPI ? null : {\n      get: function() {\n        return parseURL()._href;\n      }\n    },\n    /**\n     * Returns the current page's protocol.\n     *\n     * @namespace history.location\n     */\n    \"protocol\": null,\n    /**\n     * Returns the current page's host and port number.\n     *\n     * @namespace history.location\n     */\n    \"host\": null,\n    /**\n     * Returns the current page's host.\n     *\n     * @namespace history.location\n     */\n    \"hostname\": null,\n    /**\n     * Returns the current page's port number.\n     *\n     * @namespace history.location\n     */\n    \"port\": null,\n    /**\n     * Returns the current page's path only.\n     *\n     * @namespace history.location\n     */\n    \"pathname\": isSupportHistoryAPI ? null : {\n      get: function() {\n        return parseURL()._pathname;\n      }\n    },\n    /**\n     * Returns the current page's search\n     * string, beginning with the character\n     * '?' and to the symbol '#'\n     *\n     * @namespace history.location\n     */\n    \"search\": isSupportHistoryAPI ? null : {\n      get: function() {\n        return parseURL()._search;\n      }\n    },\n    /**\n     * Returns the current page's hash\n     * string, beginning with the character\n     * '#' and to the end line\n     *\n     * @namespace history.location\n     */\n    \"hash\": isSupportHistoryAPI ? null : {\n      set: function(value) {\n        changeState(null, ('' + value).replace(/^(#|)/, '#'), false, lastURL);\n      },\n      get: function() {\n        return parseURL()._hash;\n      }\n    }\n  };\n\n  /**\n   * Just empty function\n   *\n   * @return void\n   */\n  function emptyFunction() {\n    // dummy\n  }\n\n  /**\n   * Prepares a parts of the current or specified reference for later use in the library\n   *\n   * @param {string} [href]\n   * @param {boolean} [isWindowLocation]\n   * @param {boolean} [isNotAPI]\n   * @return {Object}\n   */\n  function parseURL(href, isWindowLocation, isNotAPI) {\n    var re = /(?:([a-zA-Z0-9\\-]+\\:))?(?:\\/\\/(?:[^@]*@)?([^\\/:\\?#]+)(?::([0-9]+))?)?([^\\?#]*)(?:(\\?[^#]+)|\\?)?(?:(#.*))?/;\n    if (href != null && href !== '' && !isWindowLocation) {\n      var current = parseURL(),\n          base = document.getElementsByTagName('base')[0];\n      if (!isNotAPI && base && base.getAttribute('href')) {\n        // Fix for IE ignoring relative base tags.\n        // See http://stackoverflow.com/questions/3926197/html-base-tag-and-local-folder-path-with-internet-explorer\n        base.href = base.href;\n        current = parseURL(base.href, null, true);\n      }\n      var _pathname = current._pathname, _protocol = current._protocol;\n      // convert to type of string\n      href = '' + href;\n      // convert relative link to the absolute\n      href = /^(?:\\w+\\:)?\\/\\//.test(href) ? href.indexOf(\"/\") === 0\n        ? _protocol + href : href : _protocol + \"//\" + current._host + (\n        href.indexOf(\"/\") === 0 ? href : href.indexOf(\"?\") === 0\n          ? _pathname + href : href.indexOf(\"#\") === 0\n          ? _pathname + current._search + href : _pathname.replace(/[^\\/]+$/g, '') + href\n        );\n    } else {\n      href = isWindowLocation ? href : windowLocation.href;\n      // if current browser not support History-API\n      if (!isSupportHistoryAPI || isNotAPI) {\n        // get hash fragment\n        href = href.replace(/^[^#]*/, '') || \"#\";\n        // form the absolute link from the hash\n        // https://github.com/devote/HTML5-History-API/issues/50\n        href = windowLocation.protocol.replace(/:.*$|$/, ':') + '//' + windowLocation.host + settings['basepath']\n          + href.replace(new RegExp(\"^#[\\/]?(?:\" + settings[\"type\"] + \")?\"), \"\");\n      }\n    }\n    // that would get rid of the links of the form: /../../\n    anchorElement.href = href;\n    // decompose the link in parts\n    var result = re.exec(anchorElement.href);\n    // host name with the port number\n    var host = result[2] + (result[3] ? ':' + result[3] : '');\n    // folder\n    var pathname = result[4] || '/';\n    // the query string\n    var search = result[5] || '';\n    // hash\n    var hash = result[6] === '#' ? '' : (result[6] || '');\n    // relative link, no protocol, no host\n    var relative = pathname + search + hash;\n    // special links for set to hash-link, if browser not support History API\n    var nohash = pathname.replace(new RegExp(\"^\" + settings[\"basepath\"], \"i\"), settings[\"type\"]) + search;\n    // result\n    return {\n      _href: result[1] + '//' + host + relative,\n      _protocol: result[1],\n      _host: host,\n      _hostname: result[2],\n      _port: result[3] || '',\n      _pathname: pathname,\n      _search: search,\n      _hash: hash,\n      _relative: relative,\n      _nohash: nohash,\n      _special: nohash + hash\n    }\n  }\n\n  /**\n   * Detect HistoryAPI support while taking into account false positives.\n   * Based on https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n   */\n  function isSupportHistoryAPIDetect(){\n    var ua = global.navigator.userAgent;\n    // We only want Android 2 and 4.0, stock browser, and not Chrome which identifies\n    // itself as 'Mobile Safari' as well, nor Windows Phone (issue #1471).\n    if ((ua.indexOf('Android 2.') !== -1 ||\n      (ua.indexOf('Android 4.0') !== -1)) &&\n      ua.indexOf('Mobile Safari') !== -1 &&\n      ua.indexOf('Chrome') === -1 &&\n      ua.indexOf('Windows Phone') === -1)\n    {\n      return false;\n    }\n    // Return the regular check\n    return !!historyPushState;\n  }\n\n  /**\n   * Initializing storage for the custom state's object\n   */\n  function storageInitialize() {\n    var sessionStorage;\n    /**\n     * sessionStorage throws error when cookies are disabled\n     * Chrome content settings when running the site in a Facebook IFrame.\n     * see: https://github.com/devote/HTML5-History-API/issues/34\n     * and: http://stackoverflow.com/a/12976988/669360\n     */\n    try {\n      sessionStorage = global['sessionStorage'];\n      sessionStorage.setItem(sessionStorageKey + 't', '1');\n      sessionStorage.removeItem(sessionStorageKey + 't');\n    } catch(_e_) {\n      sessionStorage = {\n        getItem: function(key) {\n          var cookie = document.cookie.split(key + \"=\");\n          return cookie.length > 1 && cookie.pop().split(\";\").shift() || 'null';\n        },\n        setItem: function(key, value) {\n          var state = {};\n          // insert one current element to cookie\n          if (state[windowLocation.href] = historyObject.state) {\n            document.cookie = key + '=' + JSON.stringify(state);\n          }\n        }\n      }\n    }\n\n    try {\n      // get cache from the storage in browser\n      stateStorage = JSON.parse(sessionStorage.getItem(sessionStorageKey)) || {};\n    } catch(_e_) {\n      stateStorage = {};\n    }\n\n    // hang up the event handler to event unload page\n    addEvent(eventNamePrefix + 'unload', function() {\n      // save current state's object\n      sessionStorage.setItem(sessionStorageKey, JSON.stringify(stateStorage));\n    }, false);\n  }\n\n  /**\n   * This method is implemented to override the built-in(native)\n   * properties in the browser, unfortunately some browsers are\n   * not allowed to override all the properties and even add.\n   * For this reason, this was written by a method that tries to\n   * do everything necessary to get the desired result.\n   *\n   * @param {Object} object The object in which will be overridden/added property\n   * @param {String} prop The property name to be overridden/added\n   * @param {Object} [descriptor] An object containing properties set/get\n   * @param {Function} [onWrapped] The function to be called when the wrapper is created\n   * @return {Object|Boolean} Returns an object on success, otherwise returns false\n   */\n  function redefineProperty(object, prop, descriptor, onWrapped) {\n    var testOnly = 0;\n    // test only if descriptor is undefined\n    if (!descriptor) {\n      descriptor = {set: emptyFunction};\n      testOnly = 1;\n    }\n    // variable will have a value of true the success of attempts to set descriptors\n    var isDefinedSetter = !descriptor.set;\n    var isDefinedGetter = !descriptor.get;\n    // for tests of attempts to set descriptors\n    var test = {configurable: true, set: function() {\n      isDefinedSetter = 1;\n    }, get: function() {\n      isDefinedGetter = 1;\n    }};\n\n    try {\n      // testing for the possibility of overriding/adding properties\n      defineProperty(object, prop, test);\n      // running the test\n      object[prop] = object[prop];\n      // attempt to override property using the standard method\n      defineProperty(object, prop, descriptor);\n    } catch(_e_) {\n    }\n\n    // If the variable 'isDefined' has a false value, it means that need to try other methods\n    if (!isDefinedSetter || !isDefinedGetter) {\n      // try to override/add the property, using deprecated functions\n      if (object.__defineGetter__) {\n        // testing for the possibility of overriding/adding properties\n        object.__defineGetter__(prop, test.get);\n        object.__defineSetter__(prop, test.set);\n        // running the test\n        object[prop] = object[prop];\n        // attempt to override property using the deprecated functions\n        descriptor.get && object.__defineGetter__(prop, descriptor.get);\n        descriptor.set && object.__defineSetter__(prop, descriptor.set);\n      }\n\n      // Browser refused to override the property, using the standard and deprecated methods\n      if (!isDefinedSetter || !isDefinedGetter) {\n        if (testOnly) {\n          return false;\n        } else if (object === global) {\n          // try override global properties\n          try {\n            // save original value from this property\n            var originalValue = object[prop];\n            // set null to built-in(native) property\n            object[prop] = null;\n          } catch(_e_) {\n          }\n          // This rule for Internet Explorer 8\n          if ('execScript' in global) {\n            /**\n             * to IE8 override the global properties using\n             * VBScript, declaring it in global scope with\n             * the same names.\n             */\n            global['execScript']('Public ' + prop, 'VBScript');\n            global['execScript']('var ' + prop + ';', 'JavaScript');\n          } else {\n            try {\n              /**\n               * This hack allows to override a property\n               * with the set 'configurable: false', working\n               * in the hack 'Safari' to 'Mac'\n               */\n              defineProperty(object, prop, {value: emptyFunction});\n            } catch(_e_) {\n              if (prop === 'onpopstate') {\n                /**\n                 * window.onpopstate fires twice in Safari 8.0.\n                 * Block initial event on window.onpopstate\n                 * See: https://github.com/devote/HTML5-History-API/issues/69\n                 */\n                addEvent('popstate', descriptor = function() {\n                  removeEvent('popstate', descriptor, false);\n                  var onpopstate = object.onpopstate;\n                  // cancel initial event on attribute handler\n                  object.onpopstate = null;\n                  setTimeout(function() {\n                    // restore attribute value after short time\n                    object.onpopstate = onpopstate;\n                  }, 1);\n                }, false);\n                // cancel trigger events on attributes in object the window\n                triggerEventsInWindowAttributes = 0;\n              }\n            }\n          }\n          // set old value to new variable\n          object[prop] = originalValue;\n\n        } else {\n          // the last stage of trying to override the property\n          try {\n            try {\n              // wrap the object in a new empty object\n              var temp = Object.create(object);\n              defineProperty(Object.getPrototypeOf(temp) === object ? temp : object, prop, descriptor);\n              for(var key in object) {\n                // need to bind a function to the original object\n                if (typeof object[key] === 'function') {\n                  temp[key] = object[key].bind(object);\n                }\n              }\n              try {\n                // to run a function that will inform about what the object was to wrapped\n                onWrapped.call(temp, temp, object);\n              } catch(_e_) {\n              }\n              object = temp;\n            } catch(_e_) {\n              // sometimes works override simply by assigning the prototype property of the constructor\n              defineProperty(object.constructor.prototype, prop, descriptor);\n            }\n          } catch(_e_) {\n            // all methods have failed\n            return false;\n          }\n        }\n      }\n    }\n\n    return object;\n  }\n\n  /**\n   * Adds the missing property in descriptor\n   *\n   * @param {Object} object An object that stores values\n   * @param {String} prop Name of the property in the object\n   * @param {Object|null} descriptor Descriptor\n   * @return {Object} Returns the generated descriptor\n   */\n  function prepareDescriptorsForObject(object, prop, descriptor) {\n    descriptor = descriptor || {};\n    // the default for the object 'location' is the standard object 'window.location'\n    object = object === locationDescriptors ? windowLocation : object;\n    // setter for object properties\n    descriptor.set = (descriptor.set || function(value) {\n      object[prop] = value;\n    });\n    // getter for object properties\n    descriptor.get = (descriptor.get || function() {\n      return object[prop];\n    });\n    return descriptor;\n  }\n\n  /**\n   * Wrapper for the methods 'addEventListener/attachEvent' in the context of the 'window'\n   *\n   * @param {String} event The event type for which the user is registering\n   * @param {Function} listener The method to be called when the event occurs.\n   * @param {Boolean} capture If true, capture indicates that the user wishes to initiate capture.\n   * @return void\n   */\n  function addEventListener(event, listener, capture) {\n    if (event in eventsList) {\n      // here stored the event listeners 'popstate/hashchange'\n      eventsList[event].push(listener);\n    } else {\n      // FireFox support non-standart four argument aWantsUntrusted\n      // https://github.com/devote/HTML5-History-API/issues/13\n      if (arguments.length > 3) {\n        addEvent(event, listener, capture, arguments[3]);\n      } else {\n        addEvent(event, listener, capture);\n      }\n    }\n  }\n\n  /**\n   * Wrapper for the methods 'removeEventListener/detachEvent' in the context of the 'window'\n   *\n   * @param {String} event The event type for which the user is registered\n   * @param {Function} listener The parameter indicates the Listener to be removed.\n   * @param {Boolean} capture Was registered as a capturing listener or not.\n   * @return void\n   */\n  function removeEventListener(event, listener, capture) {\n    var list = eventsList[event];\n    if (list) {\n      for(var i = list.length; i--;) {\n        if (list[i] === listener) {\n          list.splice(i, 1);\n          break;\n        }\n      }\n    } else {\n      removeEvent(event, listener, capture);\n    }\n  }\n\n  /**\n   * Wrapper for the methods 'dispatchEvent/fireEvent' in the context of the 'window'\n   *\n   * @param {Event|String} event Instance of Event or event type string if 'eventObject' used\n   * @param {*} [eventObject] For Internet Explorer 8 required event object on this argument\n   * @return {Boolean} If 'preventDefault' was called the value is false, else the value is true.\n   */\n  function dispatchEvent(event, eventObject) {\n    var eventType = ('' + (typeof event === \"string\" ? event : event.type)).replace(/^on/, '');\n    var list = eventsList[eventType];\n    if (list) {\n      // need to understand that there is one object of Event\n      eventObject = typeof event === \"string\" ? eventObject : event;\n      if (eventObject.target == null) {\n        // need to override some of the properties of the Event object\n        for(var props = ['target', 'currentTarget', 'srcElement', 'type']; event = props.pop();) {\n          // use 'redefineProperty' to override the properties\n          eventObject = redefineProperty(eventObject, event, {\n            get: event === 'type' ? function() {\n              return eventType;\n            } : function() {\n              return global;\n            }\n          });\n        }\n      }\n      if (triggerEventsInWindowAttributes) {\n        // run function defined in the attributes 'onpopstate/onhashchange' in the 'window' context\n        ((eventType === 'popstate' ? global.onpopstate : global.onhashchange)\n          || emptyFunction).call(global, eventObject);\n      }\n      // run other functions that are in the list of handlers\n      for(var i = 0, len = list.length; i < len; i++) {\n        list[i].call(global, eventObject);\n      }\n      return true;\n    } else {\n      return dispatch(event, eventObject);\n    }\n  }\n\n  /**\n   * dispatch current state event\n   */\n  function firePopState() {\n    var o = document.createEvent ? document.createEvent('Event') : document.createEventObject();\n    if (o.initEvent) {\n      o.initEvent('popstate', false, false);\n    } else {\n      o.type = 'popstate';\n    }\n    o.state = historyObject.state;\n    // send a newly created events to be processed\n    dispatchEvent(o);\n  }\n\n  /**\n   * fire initial state for non-HTML5 browsers\n   */\n  function fireInitialState() {\n    if (isFireInitialState) {\n      isFireInitialState = false;\n      firePopState();\n    }\n  }\n\n  /**\n   * Change the data of the current history for HTML4 browsers\n   *\n   * @param {Object} state\n   * @param {string} [url]\n   * @param {Boolean} [replace]\n   * @param {string} [lastURLValue]\n   * @return void\n   */\n  function changeState(state, url, replace, lastURLValue) {\n    if (!isSupportHistoryAPI) {\n      // if not used implementation history.location\n      if (isUsedHistoryLocationFlag === 0) isUsedHistoryLocationFlag = 2;\n      // normalization url\n      var urlObject = parseURL(url, isUsedHistoryLocationFlag === 2 && ('' + url).indexOf(\"#\") !== -1);\n      // if current url not equal new url\n      if (urlObject._relative !== parseURL()._relative) {\n        // if empty lastURLValue to skip hash change event\n        lastURL = lastURLValue;\n        if (replace) {\n          // only replace hash, not store to history\n          windowLocation.replace(\"#\" + urlObject._special);\n        } else {\n          // change hash and add new record to history\n          windowLocation.hash = urlObject._special;\n        }\n      }\n    } else {\n      lastURL = windowLocation.href;\n    }\n    if (!isSupportStateObjectInHistory && state) {\n      stateStorage[windowLocation.href] = state;\n    }\n    isFireInitialState = false;\n  }\n\n  /**\n   * Event handler function changes the hash in the address bar\n   *\n   * @param {Event} event\n   * @return void\n   */\n  function onHashChange(event) {\n    // https://github.com/devote/HTML5-History-API/issues/46\n    var fireNow = lastURL;\n    // new value to lastURL\n    lastURL = windowLocation.href;\n    // if not empty fireNow, otherwise skipped the current handler event\n    if (fireNow) {\n      // if checkUrlForPopState equal current url, this means that the event was raised popstate browser\n      if (checkUrlForPopState !== windowLocation.href) {\n        // otherwise,\n        // the browser does not support popstate event or just does not run the event by changing the hash.\n        firePopState();\n      }\n      // current event object\n      event = event || global.event;\n\n      var oldURLObject = parseURL(fireNow, true);\n      var newURLObject = parseURL();\n      // HTML4 browser not support properties oldURL/newURL\n      if (!event.oldURL) {\n        event.oldURL = oldURLObject._href;\n        event.newURL = newURLObject._href;\n      }\n      if (oldURLObject._hash !== newURLObject._hash) {\n        // if current hash not equal previous hash\n        dispatchEvent(event);\n      }\n    }\n  }\n\n  /**\n   * The event handler is fully loaded document\n   *\n   * @param {*} [noScroll]\n   * @return void\n   */\n  function onLoad(noScroll) {\n    // Get rid of the events popstate when the first loading a document in the webkit browsers\n    setTimeout(function() {\n      // hang up the event handler for the built-in popstate event in the browser\n      addEvent('popstate', function(e) {\n        // set the current url, that suppress the creation of the popstate event by changing the hash\n        checkUrlForPopState = windowLocation.href;\n        // for Safari browser in OS Windows not implemented 'state' object in 'History' interface\n        // and not implemented in old HTML4 browsers\n        if (!isSupportStateObjectInHistory) {\n          e = redefineProperty(e, 'state', {get: function() {\n            return historyObject.state;\n          }});\n        }\n        // send events to be processed\n        dispatchEvent(e);\n      }, false);\n    }, 0);\n    // for non-HTML5 browsers\n    if (!isSupportHistoryAPI && noScroll !== true && \"location\" in historyObject) {\n      // scroll window to anchor element\n      scrollToAnchorId(locationObject.hash);\n      // fire initial state for non-HTML5 browser after load page\n      fireInitialState();\n    }\n  }\n\n  /**\n   * Finds the closest ancestor anchor element (including the target itself).\n   *\n   * @param {HTMLElement} target The element to start scanning from.\n   * @return {HTMLElement} An element which is the closest ancestor anchor.\n   */\n  function anchorTarget(target) {\n    while (target) {\n      if (target.nodeName === 'A') return target;\n      target = target.parentNode;\n    }\n  }\n\n  /**\n   * Handles anchor elements with a hash fragment for non-HTML5 browsers\n   *\n   * @param {Event} e\n   */\n  function onAnchorClick(e) {\n    var event = e || global.event;\n    var target = anchorTarget(event.target || event.srcElement);\n    var defaultPrevented = \"defaultPrevented\" in event ? event['defaultPrevented'] : event.returnValue === false;\n    if (target && target.nodeName === \"A\" && !defaultPrevented) {\n      var current = parseURL();\n      var expect = parseURL(target.getAttribute(\"href\", 2));\n      var isEqualBaseURL = current._href.split('#').shift() === expect._href.split('#').shift();\n      if (isEqualBaseURL && expect._hash) {\n        if (current._hash !== expect._hash) {\n          locationObject.hash = expect._hash;\n        }\n        scrollToAnchorId(expect._hash);\n        if (event.preventDefault) {\n          event.preventDefault();\n        } else {\n          event.returnValue = false;\n        }\n      }\n    }\n  }\n\n  /**\n   * Scroll page to current anchor in url-hash\n   *\n   * @param hash\n   */\n  function scrollToAnchorId(hash) {\n    var target = document.getElementById(hash = (hash || '').replace(/^#/, ''));\n    if (target && target.id === hash && target.nodeName === \"A\") {\n      var rect = target.getBoundingClientRect();\n      global.scrollTo((documentElement.scrollLeft || 0), rect.top + (documentElement.scrollTop || 0)\n        - (documentElement.clientTop || 0));\n    }\n  }\n\n  /**\n   * Library initialization\n   *\n   * @return {Boolean} return true if all is well, otherwise return false value\n   */\n  function initialize() {\n    /**\n     * Get custom settings from the query string\n     */\n    var scripts = document.getElementsByTagName('script');\n    var src = (scripts[scripts.length - 1] || {}).src || '';\n    var arg = src.indexOf('?') !== -1 ? src.split('?').pop() : '';\n    arg.replace(/(\\w+)(?:=([^&]*))?/g, function(a, key, value) {\n      settings[key] = (value || '').replace(/^(0|false)$/, '');\n    });\n\n    /**\n     * hang up the event handler to listen to the events hashchange\n     */\n    addEvent(eventNamePrefix + 'hashchange', onHashChange, false);\n\n    // a list of objects with pairs of descriptors/object\n    var data = [locationDescriptors, locationObject, eventsDescriptors, global, historyDescriptors, historyObject];\n\n    // if browser support object 'state' in interface 'History'\n    if (isSupportStateObjectInHistory) {\n      // remove state property from descriptor\n      delete historyDescriptors['state'];\n    }\n\n    // initializing descriptors\n    for(var i = 0; i < data.length; i += 2) {\n      for(var prop in data[i]) {\n        if (data[i].hasOwnProperty(prop)) {\n          if (typeof data[i][prop] !== 'object') {\n            // If the descriptor is a simple function, simply just assign it an object\n            data[i + 1][prop] = data[i][prop];\n          } else {\n            // prepare the descriptor the required format\n            var descriptor = prepareDescriptorsForObject(data[i], prop, data[i][prop]);\n            // try to set the descriptor object\n            if (!redefineProperty(data[i + 1], prop, descriptor, function(n, o) {\n              // is satisfied if the failed override property\n              if (o === historyObject) {\n                // the problem occurs in Safari on the Mac\n                global.history = historyObject = data[i + 1] = n;\n              }\n            })) {\n              // if there is no possibility override.\n              // This browser does not support descriptors, such as IE7\n\n              // remove previously hung event handlers\n              removeEvent(eventNamePrefix + 'hashchange', onHashChange, false);\n\n              // fail to initialize :(\n              return false;\n            }\n\n            // create a repository for custom handlers onpopstate/onhashchange\n            if (data[i + 1] === global) {\n              eventsList[prop] = eventsList[prop.substr(2)] = [];\n            }\n          }\n        }\n      }\n    }\n\n    // check settings\n    historyObject['setup']();\n\n    // redirect if necessary\n    if (settings['redirect']) {\n      historyObject['redirect']();\n    }\n\n    // initialize\n    if (settings[\"init\"]) {\n      // You agree that you will use window.history.location instead window.location\n      isUsedHistoryLocationFlag = 1;\n    }\n\n    // If browser does not support object 'state' in interface 'History'\n    if (!isSupportStateObjectInHistory && JSON) {\n      storageInitialize();\n    }\n\n    // track clicks on anchors\n    if (!isSupportHistoryAPI) {\n      document[addEventListenerName](eventNamePrefix + \"click\", onAnchorClick, false);\n    }\n\n    if (document.readyState === 'complete') {\n      onLoad(true);\n    } else {\n      if (!isSupportHistoryAPI && parseURL()._relative !== settings[\"basepath\"]) {\n        isFireInitialState = true;\n      }\n      /**\n       * Need to avoid triggering events popstate the initial page load.\n       * Hang handler popstate as will be fully loaded document that\n       * would prevent triggering event onpopstate\n       */\n      addEvent(eventNamePrefix + 'load', onLoad, false);\n    }\n\n    // everything went well\n    return true;\n  }\n\n  /**\n   * Starting the library\n   */\n  if (!initialize()) {\n    // if unable to initialize descriptors\n    // therefore quite old browser and there\n    // is no sense to continue to perform\n    return;\n  }\n\n  /**\n   * If the property history.emulate will be true,\n   * this will be talking about what's going on\n   * emulation capabilities HTML5-History-API.\n   * Otherwise there is no emulation, ie the\n   * built-in browser capabilities.\n   *\n   * @type {boolean}\n   * @const\n   */\n  historyObject['emulate'] = !isSupportHistoryAPI;\n\n  /**\n   * Replace the original methods on the wrapper\n   */\n  global[addEventListenerName] = addEventListener;\n  global[removeEventListenerName] = removeEventListener;\n  global[dispatchEventName] = dispatchEvent;\n\n  return historyObject;\n});\n\n/**\n * Copyright (c) 2011-2014 Felix Gnass\n * Licensed under the MIT license\n * http://spin.js.org/\n *\n * Example:\n    var opts = {\n      lines: 12             // The number of lines to draw\n    , length: 7             // The length of each line\n    , width: 5              // The line thickness\n    , radius: 10            // The radius of the inner circle\n    , scale: 1.0            // Scales overall size of the spinner\n    , corners: 1            // Roundness (0..1)\n    , color: '#000'         // #rgb or #rrggbb\n    , opacity: 1/4          // Opacity of the lines\n    , rotate: 0             // Rotation offset\n    , direction: 1          // 1: clockwise, -1: counterclockwise\n    , speed: 1              // Rounds per second\n    , trail: 100            // Afterglow percentage\n    , fps: 20               // Frames per second when using setTimeout()\n    , zIndex: 2e9           // Use a high z-index by default\n    , className: 'spinner'  // CSS class to assign to the element\n    , top: '50%'            // center vertically\n    , left: '50%'           // center horizontally\n    , shadow: false         // Whether to render a shadow\n    , hwaccel: false        // Whether to use hardware acceleration (might be buggy)\n    , position: 'absolute'  // Element positioning\n    }\n    var target = document.getElementById('foo')\n    var spinner = new Spinner(opts).spin(target)\n */\n;(function (root, factory) {\n\n  /* CommonJS */\n  if (typeof module == 'object' && module.exports) module.exports = factory()\n\n  /* AMD module */\n  else if (typeof define == 'function' && define.amd) define(factory)\n\n  /* Browser global */\n  else root.Spinner = factory()\n}(this, function () {\n  \"use strict\"\n\n  var prefixes = ['webkit', 'Moz', 'ms', 'O'] /* Vendor prefixes */\n    , animations = {} /* Animation rules keyed by their name */\n    , useCssAnimations /* Whether to use CSS animations or setTimeout */\n    , sheet /* A stylesheet to hold the @keyframe or VML rules. */\n\n  /**\n   * Utility function to create elements. If no tag name is given,\n   * a DIV is created. Optionally properties can be passed.\n   */\n  function createEl (tag, prop) {\n    var el = document.createElement(tag || 'div')\n      , n\n\n    for (n in prop) el[n] = prop[n]\n    return el\n  }\n\n  /**\n   * Appends children and returns the parent.\n   */\n  function ins (parent /* child1, child2, ...*/) {\n    for (var i = 1, n = arguments.length; i < n; i++) {\n      parent.appendChild(arguments[i])\n    }\n\n    return parent\n  }\n\n  /**\n   * Creates an opacity keyframe animation rule and returns its name.\n   * Since most mobile Webkits have timing issues with animation-delay,\n   * we create separate rules for each line/segment.\n   */\n  function addAnimation (alpha, trail, i, lines) {\n    var name = ['opacity', trail, ~~(alpha * 100), i, lines].join('-')\n      , start = 0.01 + i/lines * 100\n      , z = Math.max(1 - (1-alpha) / trail * (100-start), alpha)\n      , prefix = useCssAnimations.substring(0, useCssAnimations.indexOf('Animation')).toLowerCase()\n      , pre = prefix && '-' + prefix + '-' || ''\n\n    if (!animations[name]) {\n      sheet.insertRule(\n        '@' + pre + 'keyframes ' + name + '{' +\n        '0%{opacity:' + z + '}' +\n        start + '%{opacity:' + alpha + '}' +\n        (start+0.01) + '%{opacity:1}' +\n        (start+trail) % 100 + '%{opacity:' + alpha + '}' +\n        '100%{opacity:' + z + '}' +\n        '}', sheet.cssRules.length)\n\n      animations[name] = 1\n    }\n\n    return name\n  }\n\n  /**\n   * Tries various vendor prefixes and returns the first supported property.\n   */\n  function vendor (el, prop) {\n    var s = el.style\n      , pp\n      , i\n\n    prop = prop.charAt(0).toUpperCase() + prop.slice(1)\n    if (s[prop] !== undefined) return prop\n    for (i = 0; i < prefixes.length; i++) {\n      pp = prefixes[i]+prop\n      if (s[pp] !== undefined) return pp\n    }\n  }\n\n  /**\n   * Sets multiple style properties at once.\n   */\n  function css (el, prop) {\n    for (var n in prop) {\n      el.style[vendor(el, n) || n] = prop[n]\n    }\n\n    return el\n  }\n\n  /**\n   * Fills in default values.\n   */\n  function merge (obj) {\n    for (var i = 1; i < arguments.length; i++) {\n      var def = arguments[i]\n      for (var n in def) {\n        if (obj[n] === undefined) obj[n] = def[n]\n      }\n    }\n    return obj\n  }\n\n  /**\n   * Returns the line color from the given string or array.\n   */\n  function getColor (color, idx) {\n    return typeof color == 'string' ? color : color[idx % color.length]\n  }\n\n  // Built-in defaults\n\n  var defaults = {\n    lines: 12             // The number of lines to draw\n  , length: 7             // The length of each line\n  , width: 5              // The line thickness\n  , radius: 10            // The radius of the inner circle\n  , scale: 1.0            // Scales overall size of the spinner\n  , corners: 1            // Roundness (0..1)\n  , color: '#000'         // #rgb or #rrggbb\n  , opacity: 1/4          // Opacity of the lines\n  , rotate: 0             // Rotation offset\n  , direction: 1          // 1: clockwise, -1: counterclockwise\n  , speed: 1              // Rounds per second\n  , trail: 100            // Afterglow percentage\n  , fps: 20               // Frames per second when using setTimeout()\n  , zIndex: 2e9           // Use a high z-index by default\n  , className: 'spinner'  // CSS class to assign to the element\n  , top: '50%'            // center vertically\n  , left: '50%'           // center horizontally\n  , shadow: false         // Whether to render a shadow\n  , hwaccel: false        // Whether to use hardware acceleration (might be buggy)\n  , position: 'absolute'  // Element positioning\n  }\n\n  /** The constructor */\n  function Spinner (o) {\n    this.opts = merge(o || {}, Spinner.defaults, defaults)\n  }\n\n  // Global defaults that override the built-ins:\n  Spinner.defaults = {}\n\n  merge(Spinner.prototype, {\n    /**\n     * Adds the spinner to the given target element. If this instance is already\n     * spinning, it is automatically removed from its previous target b calling\n     * stop() internally.\n     */\n    spin: function (target) {\n      this.stop()\n\n      var self = this\n        , o = self.opts\n        , el = self.el = createEl(null, {className: o.className})\n\n      css(el, {\n        position: o.position\n      , width: 0\n      , zIndex: o.zIndex\n      , left: o.left\n      , top: o.top\n      })\n\n      if (target) {\n        target.insertBefore(el, target.firstChild || null)\n      }\n\n      el.setAttribute('role', 'progressbar')\n      self.lines(el, self.opts)\n\n      if (!useCssAnimations) {\n        // No CSS animation support, use setTimeout() instead\n        var i = 0\n          , start = (o.lines - 1) * (1 - o.direction) / 2\n          , alpha\n          , fps = o.fps\n          , f = fps / o.speed\n          , ostep = (1 - o.opacity) / (f * o.trail / 100)\n          , astep = f / o.lines\n\n        ;(function anim () {\n          i++\n          for (var j = 0; j < o.lines; j++) {\n            alpha = Math.max(1 - (i + (o.lines - j) * astep) % f * ostep, o.opacity)\n\n            self.opacity(el, j * o.direction + start, alpha, o)\n          }\n          self.timeout = self.el && setTimeout(anim, ~~(1000 / fps))\n        })()\n      }\n      return self\n    }\n\n    /**\n     * Stops and removes the Spinner.\n     */\n  , stop: function () {\n      var el = this.el\n      if (el) {\n        clearTimeout(this.timeout)\n        if (el.parentNode) el.parentNode.removeChild(el)\n        this.el = undefined\n      }\n      return this\n    }\n\n    /**\n     * Internal method that draws the individual lines. Will be overwritten\n     * in VML fallback mode below.\n     */\n  , lines: function (el, o) {\n      var i = 0\n        , start = (o.lines - 1) * (1 - o.direction) / 2\n        , seg\n\n      function fill (color, shadow) {\n        return css(createEl(), {\n          position: 'absolute'\n        , width: o.scale * (o.length + o.width) + 'px'\n        , height: o.scale * o.width + 'px'\n        , background: color\n        , boxShadow: shadow\n        , transformOrigin: 'left'\n        , transform: 'rotate(' + ~~(360/o.lines*i + o.rotate) + 'deg) translate(' + o.scale*o.radius + 'px' + ',0)'\n        , borderRadius: (o.corners * o.scale * o.width >> 1) + 'px'\n        })\n      }\n\n      for (; i < o.lines; i++) {\n        seg = css(createEl(), {\n          position: 'absolute'\n        , top: 1 + ~(o.scale * o.width / 2) + 'px'\n        , transform: o.hwaccel ? 'translate3d(0,0,0)' : ''\n        , opacity: o.opacity\n        , animation: useCssAnimations && addAnimation(o.opacity, o.trail, start + i * o.direction, o.lines) + ' ' + 1 / o.speed + 's linear infinite'\n        })\n\n        if (o.shadow) ins(seg, css(fill('#000', '0 0 4px #000'), {top: '2px'}))\n        ins(el, ins(seg, fill(getColor(o.color, i), '0 0 1px rgba(0,0,0,.1)')))\n      }\n      return el\n    }\n\n    /**\n     * Internal method that adjusts the opacity of a single line.\n     * Will be overwritten in VML fallback mode below.\n     */\n  , opacity: function (el, i, val) {\n      if (i < el.childNodes.length) el.childNodes[i].style.opacity = val\n    }\n\n  })\n\n\n  function initVML () {\n\n    /* Utility function to create a VML tag */\n    function vml (tag, attr) {\n      return createEl('<' + tag + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"spin-vml\">', attr)\n    }\n\n    // No CSS transforms but VML support, add a CSS rule for VML elements:\n    sheet.addRule('.spin-vml', 'behavior:url(#default#VML)')\n\n    Spinner.prototype.lines = function (el, o) {\n      var r = o.scale * (o.length + o.width)\n        , s = o.scale * 2 * r\n\n      function grp () {\n        return css(\n          vml('group', {\n            coordsize: s + ' ' + s\n          , coordorigin: -r + ' ' + -r\n          })\n        , { width: s, height: s }\n        )\n      }\n\n      var margin = -(o.width + o.length) * o.scale * 2 + 'px'\n        , g = css(grp(), {position: 'absolute', top: margin, left: margin})\n        , i\n\n      function seg (i, dx, filter) {\n        ins(\n          g\n        , ins(\n            css(grp(), {rotation: 360 / o.lines * i + 'deg', left: ~~dx})\n          , ins(\n              css(\n                vml('roundrect', {arcsize: o.corners})\n              , { width: r\n                , height: o.scale * o.width\n                , left: o.scale * o.radius\n                , top: -o.scale * o.width >> 1\n                , filter: filter\n                }\n              )\n            , vml('fill', {color: getColor(o.color, i), opacity: o.opacity})\n            , vml('stroke', {opacity: 0}) // transparent stroke to fix color bleeding upon opacity change\n            )\n          )\n        )\n      }\n\n      if (o.shadow)\n        for (i = 1; i <= o.lines; i++) {\n          seg(i, -2, 'progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)')\n        }\n\n      for (i = 1; i <= o.lines; i++) seg(i)\n      return ins(el, g)\n    }\n\n    Spinner.prototype.opacity = function (el, i, val, o) {\n      var c = el.firstChild\n      o = o.shadow && o.lines || 0\n      if (c && i + o < c.childNodes.length) {\n        c = c.childNodes[i + o]; c = c && c.firstChild; c = c && c.firstChild\n        if (c) c.opacity = val\n      }\n    }\n  }\n\n  if (typeof document !== 'undefined') {\n    sheet = (function () {\n      var el = createEl('style', {type : 'text/css'})\n      ins(document.getElementsByTagName('head')[0], el)\n      return el.sheet || el.styleSheet\n    }())\n\n    var probe = css(createEl('group'), {behavior: 'url(#default#VML)'})\n\n    if (!vendor(probe, 'transform') && probe.adj) initVML()\n    else useCssAnimations = vendor(probe, 'animation')\n  }\n\n  return Spinner\n\n}));\n\n/**\n * Copyright (c) 2011-2014 Felix Gnass\n * Licensed under the MIT license\n * http://spin.js.org/\n */\n\n/*\n\nBasic Usage:\n============\n\n$('#el').spin() // Creates a default Spinner using the text color of #el.\n$('#el').spin({ ... }) // Creates a Spinner using the provided options.\n\n$('#el').spin(false) // Stops and removes the spinner.\n\nUsing Presets:\n==============\n\n$('#el').spin('small') // Creates a 'small' Spinner using the text color of #el.\n$('#el').spin('large', '#fff') // Creates a 'large' white Spinner.\n\nAdding a custom preset:\n=======================\n\n$.fn.spin.presets.flower = {\n  lines:   9\n, length: 10\n, width:  20\n, radius:  0\n}\n\n$('#el').spin('flower', 'red')\n\n*/\n\n;(function(factory) {\n\n  if (typeof exports == 'object') {\n    // CommonJS\n    factory(require('jquery'), require('spin.js'))\n  } else if (typeof define == 'function' && define.amd) {\n    // AMD, register as anonymous module\n    define(['jquery', 'spin'], factory)\n  } else {\n    // Browser globals\n    if (!window.Spinner) throw new Error('Spin.js not present')\n    factory(window.jQuery, window.Spinner)\n  }\n\n}(function($, Spinner) {\n\n  $.fn.spin = function(opts, color) {\n\n    return this.each(function() {\n      var $this = $(this)\n        , data = $this.data()\n\n      if (data.spinner) {\n        data.spinner.stop()\n        delete data.spinner\n      }\n      if (opts !== false) {\n        opts = $.extend(\n          { color: color || $this.css('color') }\n        , $.fn.spin.presets[opts] || opts\n        )\n        data.spinner = new Spinner(opts).spin(this)\n      }\n    })\n  }\n\n  $.fn.spin.presets = {\n    tiny:  { lines:  8, length: 2, width: 2, radius: 3 }\n  , small: { lines:  8, length: 4, width: 3, radius: 5 }\n  , large: { lines: 10, length: 8, width: 4, radius: 8 }\n  }\n\n}));\n\n// ==== WP AJAX PAGE LOADER 0.3.0 ==== //\n\n// WP AJAX Page Loader documentation: https://github.com/synapticism/wp-ajax-page-loader\n// Global namespace object; inspiration for the design of this via Ryan Florence: http://ryanflorence.com/authoring-jquery-plugins-with-object-oriented-javascript/\nvar PG8 = {};\n\n(function($, document, window, undefined){\n  'use strict';\n\n  // Exit early if WordPress script variables aren't available\n  if (typeof PG8Data === 'undefined') {\n    return;\n  }\n\n  // Initialize HTML5-History-API polyfill with this single line\n  var location = window.history.location || window.location;\n\n  // Constructor function\n  var PageLoader = this.PageLoader = function(opts){\n    this.thisLink = location.href;\n    this.nextLink = PG8Data.nextLink;\n    this.thisPage = parseInt(PG8Data.startPage, 10);\n    this.nextPage = this.thisPage + 1;\n    this.maxPages = parseInt(PG8Data.maxPages, 10);\n    this.maxedOut = 0; // A flag to determine whether all pages have been loaded\n    this.opts     = $.extend({}, $.fn.ajaxPageLoader.defaults, opts);\n    this.content  = $(this.opts.content);\n\n    // Initialize page loader only if there are pages to load\n    if (this.nextPage <= this.maxPages) {\n      this.init();\n    }\n  };\n\n\n\n  // Prototype functionality\n  PageLoader.prototype = {\n    init: function(){\n\n      // Wrap all the children of the main element in a way that is consistent with how content is loaded\n      this.content.children().wrapAll('<div id=\"content-page-'+parseInt(this.thisPage, 10)+'\" class=\"clear\" data-href=\"'+encodeURI(this.thisLink)+'\"></div>');\n\n      // Create the first (place)holder div that content will be loaded into\n      this.holder();\n\n      // Bind event handlers\n      this.handler();\n\n      // Initialize spinner\n      this.spinner();\n    },\n\n\n\n    // Create a placeholder; abstracted into a function for DRYness\n    holder: function(){\n      this.content.append('<div id=\"content-page-'+parseInt(this.nextPage, 10)+'\" class=\"clear\" data-href=\"'+encodeURI(this.nextLink)+'\"></div>');\n    },\n\n\n\n    // Event handlers\n    handler: function(){\n      var\n        self    = this,\n        $window = $(window);\n\n      // Bind to click events on the body element to ensure compatibility with other forms of DOM manipulation we may be doing\n      $('body').on('click', self.opts.next, function(event){\n\n        // Are there more posts to load? This has to be checked again as nextPage increments\n        if (self.nextPage <= self.maxPages) {\n\n          // Cancel page request\n          event.preventDefault();\n\n          // Invoke spinner\n          $(this).parents('nav:first').before($('#spinner').show());\n\n          // Load content\n          self.loader(self.nextPage, self.nextLink);\n        }\n      }); // end .on('click')\n\n\n\n      // Watch scroll position and change URL accordingly\n      $window.on('scroll', this.content, function(event){\n\n        // Clear previously set timer\n        clearTimeout($.data(this, 'pushTimer'));\n        clearTimeout($.data(this, 'infinTimer'));\n\n        // Manage push state based on scroll position; keeps the URL updated wherever the window position is\n        $.data(this, 'pushTimer', setTimeout(function(){\n\n          // Setup some useful variables including info about the top-most page\n          var\n            firstPage = self.content.children(':first'),\n            firstTop  = firstPage.offset().top,\n            firstLink = firstPage.data('href'),\n            winTop    = $window.scrollTop();\n\n          // Push state if the top of the window is above the first page\n          if ( winTop <= firstTop ) {\n            self.pusher(firstLink);\n          } else {\n\n            // Monitor the children of the main content selector; should be a bunch of divs representing each page of content\n            self.content.children().each(function(){\n              var\n                $this   = $(this),\n                top     = $this.offset().top - self.opts.scrollOffset,\n                bottom  = $this.outerHeight()+top;\n\n              // Push state if the top of the window falls into the range of a given page\n              if ( top <= winTop && winTop < bottom ) {\n                self.pusher($this.data('href'));\n              }\n            }); // end each()\n          } // end if\n        }, self.opts.pushDelay)); // end $.data()\n\n        // Infinite scroll, a lazy (yet smart) implementation\n        if ( self.maxedOut === 0 && self.opts.infinScroll === true ) { // Only bother with this if there are more pages to load AND infinite scroll is on\n          $.data(this, 'infinTimer', setTimeout(function() {\n            var\n              $document       = $(document),\n              scrollHeight    = $document.height(),\n              scrollPosition  = $window.height() + $window.scrollTop(), // Position of the bottom of the window\n              scrollLastPage  = self.content.children(':last').offset().top, // Bottom of the content area\n              scrollDiff      = scrollHeight - scrollPosition; // How close to the absolute bottom of the document\n\n            // Trigger a click when the bottom of the window is just below the contents of the last page\n            // But not the absolute bottom; we'd like to be able to reach the footer if we can!\n            if ( scrollPosition > scrollLastPage + self.opts.scrollOffset && scrollPosition <= scrollLastPage + self.opts.scrollOffset + self.opts.infinOffset && scrollDiff >= self.opts.infinFooter ) {\n              $(self.opts.next).trigger('click');\n            }\n          }, self.opts.infinDelay)); // end $.data()\n        } // end infinite scroll\n      }); // end $window.on('scroll')\n    }, // end handler()\n\n\n\n    // Conditionally initialize spinner div; degrades gracefully if spin.js not found\n    spinner: function(){\n      if ( $.isFunction(window.Spinner) ) {\n        this.content.after('<div id=\"spinner\" style=\"position: relative;\"></div>');\n        $('#spinner').spin(this.opts.spinOpts).hide();\n      }\n    },\n\n\n\n    pusher: function(url){\n      if (typeof url !== 'undefined' && url !== location.href) {\n        history.pushState(null,null,url);\n      }\n    },\n\n\n\n    // Page loader\n    loader: function(page, link){\n      var self = this;\n\n      // Load content into the appropriate container\n      $('#content-page-'+page).load(link+' '+self.opts.content+' > *', function(){\n\n        // Cache the next selector\n        var $navLink = $(self.opts.next);\n\n        // Update page number and nextLink\n        self.thisPage = page;\n        self.thisLink = link;\n        self.nextPage = page + 1;\n        self.nextLink = link.replace(/\\/page\\/[0-9]*/, '/page/'+self.nextPage);\n\n        // Change the URL\n        self.pusher(self.thisLink);\n\n        // Create another placeholder\n        self.holder();\n\n        // Navigation link handling: 1) have we reached the last page? 2) if not, update the link\n        if (self.nextPage > self.maxPages) {\n          $navLink.remove(); // No more content can be loaded; hide the next button or link\n          self.maxedOut = 1; // Set a flag to avoid further processing\n        } else {\n          if ( $navLink.is('[href]') ) {\n            $navLink.attr('href', self.nextLink); // Next selector has href; update it for right-clicking etc.\n          } else {\n            $('[href]', $navLink).attr('href', self.nextLink); // Next selector contains href\n          }\n        }\n\n        // Hide spinner\n        $('#spinner').hide();\n\n        // Hide previous link (if one exists)\n        $(self.opts.prev).hide();\n\n        // Emit loaded event\n        self.loaded();\n\n        // Scroll to the appropriate location\n        self.scroll();\n\n        // Update analytics with relative URL on load (not on scroll)\n        self.analytics('/'+location.href.replace(self.root(), ''));\n      });\n    }, // end loader()\n\n\n\n    // Emit the DOMContentLoaded event (for compatibility with Prism.js and other scripts)\n    loaded: function(){\n      var loaded = document.createEvent(\"Event\");\n      loaded.initEvent(\"DOMContentLoaded\", true, true);\n      window.document.dispatchEvent(loaded);\n    },\n\n\n\n    // Scroll to the top of the new content container\n    scroll: function(){\n      var top = $('#content-page-'+this.thisPage).children(':first').offset().top - this.opts.scrollOffset;\n      $('body, html').animate({ scrollTop: top }, this.opts.scrollDelay, \"swing\");\n    },\n\n\n\n    // Update Google Analytics on content load, not on scroll\n    analytics: function(url){\n      // Inform Google Analytics of the change; compatible with the new Universal Analytics script\n      if ( typeof window.ga !== 'undefined' ) {\n        window.ga('send', 'pageview', url);\n      } else if ( typeof window._gaq !== 'undefined' ) {\n        window._gaq.push(['_trackPageview', url]); // Legacy analytics; ref: https://github.com/browserstate/ajaxify/pull/25\n      }\n    },\n\n\n\n    // Utility function to get the root URL with trailing slash e.g. http(s)://yourdomain.com/\n    root: function(){\n      var\n        port = document.location.port ? ':' + document.location.port : '',\n        url = document.location.protocol + '//' + (document.location.hostname || document.location.host) + port + '/';\n      return url;\n    }\n  };\n\n\n\n  $.fn.ajaxPageLoader = function (opts){\n    return this.each(function(){\n      if (!$.data(this, 'ajaxPageLoader')) {\n        $.data(this, 'ajaxPageLoader', new PageLoader(opts));\n      }\n    });\n  };\n\n\n\n  // Extensible default settings\n  $.fn.ajaxPageLoader.defaults = {\n    content:      'main',       // The content selector; this varies from theme to theme\n    next:         '.next-page', // Selector for the \"next\" navigation link; this is also theme-dependent\n    prev:         '.prev-page', // Selector for the \"next\" navigation link; this is also theme-dependent\n    scrollDelay:  300,          // Smooth scrolling delay; use a larger value for a smoother scroll (s)\n    scrollOffset: 30,           // Scroll offset from the top of the new page to account for margins (px)\n    pushDelay:    250,          // How long to wait before attempting to update history state (s)\n    infinScroll:  true,         // Switch for infinite scrolling functionality (true/false)\n    infinDelay:   600,          // How long to wait before requesting new content automatically (s)\n    infinOffset:  300,          // Height of the area below the last page in which infinite scrolling will be triggered (px)\n    infinFooter:  1,            // Height from the bottom of the page from which infinite scrolling *won't* be triggered (px)\n    spinOpts: {                // spin.js options; reference: https://fgnass.github.io/spin.js/\n      lines:  25,\n      length: 0,\n      width:  4,\n      radius: 25,\n      speed:  1.5,\n      trail:  40,\n      top:    '15px'\n    }\n  };\n}).apply(PG8, [jQuery, document, window]);\n\n// ==== WP AJAX PAGE LOADER ==== //\n\n// Invoke the AJAX page loader; this is in its own file as the script is conditionally loaded by the theme\n;(function($){\n  $(function(){\n    $(document.body).ajaxPageLoader();\n\n    // If jQuery.timeago exists also update timestamps on AJAX page load; if you remove the timeago script this can be deleted\n    if ($.timeago) {\n      document.addEventListener(\"DOMContentLoaded\", function (event) {\n        $('time').timeago();\n      });\n    }\n  });\n}(jQuery));\n\n/**\n * Timeago is a jQuery plugin that makes it easy to support automatically\n * updating fuzzy timestamps (e.g. \"4 minutes ago\" or \"about 1 day ago\").\n *\n * @name timeago\n * @version 1.5.4\n * @requires jQuery v1.2.3+\n * @author Ryan McGeary\n * @license MIT License - http://www.opensource.org/licenses/mit-license.php\n *\n * For usage and examples, visit:\n * http://timeago.yarp.com/\n *\n * Copyright (c) 2008-2017, Ryan McGeary (ryan -[at]- mcgeary [*dot*] org)\n */\n\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery'], factory);\n  } else if (typeof module === 'object' && typeof module.exports === 'object') {\n    factory(require('jquery'));\n  } else {\n    // Browser globals\n    factory(jQuery);\n  }\n}(function ($) {\n  $.timeago = function(timestamp) {\n    if (timestamp instanceof Date) {\n      return inWords(timestamp);\n    } else if (typeof timestamp === \"string\") {\n      return inWords($.timeago.parse(timestamp));\n    } else if (typeof timestamp === \"number\") {\n      return inWords(new Date(timestamp));\n    } else {\n      return inWords($.timeago.datetime(timestamp));\n    }\n  };\n  var $t = $.timeago;\n\n  $.extend($.timeago, {\n    settings: {\n      refreshMillis: 60000,\n      allowPast: true,\n      allowFuture: false,\n      localeTitle: false,\n      cutoff: 0,\n      autoDispose: true,\n      strings: {\n        prefixAgo: null,\n        prefixFromNow: null,\n        suffixAgo: \"ago\",\n        suffixFromNow: \"from now\",\n        inPast: 'any moment now',\n        seconds: \"less than a minute\",\n        minute: \"about a minute\",\n        minutes: \"%d minutes\",\n        hour: \"about an hour\",\n        hours: \"about %d hours\",\n        day: \"a day\",\n        days: \"%d days\",\n        month: \"about a month\",\n        months: \"%d months\",\n        year: \"about a year\",\n        years: \"%d years\",\n        wordSeparator: \" \",\n        numbers: []\n      }\n    },\n\n    inWords: function(distanceMillis) {\n      if (!this.settings.allowPast && ! this.settings.allowFuture) {\n          throw 'timeago allowPast and allowFuture settings can not both be set to false.';\n      }\n\n      var $l = this.settings.strings;\n      var prefix = $l.prefixAgo;\n      var suffix = $l.suffixAgo;\n      if (this.settings.allowFuture) {\n        if (distanceMillis < 0) {\n          prefix = $l.prefixFromNow;\n          suffix = $l.suffixFromNow;\n        }\n      }\n\n      if (!this.settings.allowPast && distanceMillis >= 0) {\n        return this.settings.strings.inPast;\n      }\n\n      var seconds = Math.abs(distanceMillis) / 1000;\n      var minutes = seconds / 60;\n      var hours = minutes / 60;\n      var days = hours / 24;\n      var years = days / 365;\n\n      function substitute(stringOrFunction, number) {\n        var string = $.isFunction(stringOrFunction) ? stringOrFunction(number, distanceMillis) : stringOrFunction;\n        var value = ($l.numbers && $l.numbers[number]) || number;\n        return string.replace(/%d/i, value);\n      }\n\n      var words = seconds < 45 && substitute($l.seconds, Math.round(seconds)) ||\n        seconds < 90 && substitute($l.minute, 1) ||\n        minutes < 45 && substitute($l.minutes, Math.round(minutes)) ||\n        minutes < 90 && substitute($l.hour, 1) ||\n        hours < 24 && substitute($l.hours, Math.round(hours)) ||\n        hours < 42 && substitute($l.day, 1) ||\n        days < 30 && substitute($l.days, Math.round(days)) ||\n        days < 45 && substitute($l.month, 1) ||\n        days < 365 && substitute($l.months, Math.round(days / 30)) ||\n        years < 1.5 && substitute($l.year, 1) ||\n        substitute($l.years, Math.round(years));\n\n      var separator = $l.wordSeparator || \"\";\n      if ($l.wordSeparator === undefined) { separator = \" \"; }\n      return $.trim([prefix, words, suffix].join(separator));\n    },\n\n    parse: function(iso8601) {\n      var s = $.trim(iso8601);\n      s = s.replace(/\\.\\d+/,\"\"); // remove milliseconds\n      s = s.replace(/-/,\"/\").replace(/-/,\"/\");\n      s = s.replace(/T/,\" \").replace(/Z/,\" UTC\");\n      s = s.replace(/([\\+\\-]\\d\\d)\\:?(\\d\\d)/,\" $1$2\"); // -04:00 -> -0400\n      s = s.replace(/([\\+\\-]\\d\\d)$/,\" $100\"); // +09 -> +0900\n      return new Date(s);\n    },\n    datetime: function(elem) {\n      var iso8601 = $t.isTime(elem) ? $(elem).attr(\"datetime\") : $(elem).attr(\"title\");\n      return $t.parse(iso8601);\n    },\n    isTime: function(elem) {\n      // jQuery's `is()` doesn't play well with HTML5 in IE\n      return $(elem).get(0).tagName.toLowerCase() === \"time\"; // $(elem).is(\"time\");\n    }\n  });\n\n  // functions that can be called via $(el).timeago('action')\n  // init is default when no action is given\n  // functions are called with context of a single element\n  var functions = {\n    init: function() {\n      functions.dispose.call(this);\n      var refresh_el = $.proxy(refresh, this);\n      refresh_el();\n      var $s = $t.settings;\n      if ($s.refreshMillis > 0) {\n        this._timeagoInterval = setInterval(refresh_el, $s.refreshMillis);\n      }\n    },\n    update: function(timestamp) {\n      var date = (timestamp instanceof Date) ? timestamp : $t.parse(timestamp);\n      $(this).data('timeago', { datetime: date });\n      if ($t.settings.localeTitle) {\n        $(this).attr(\"title\", date.toLocaleString());\n      }\n      refresh.apply(this);\n    },\n    updateFromDOM: function() {\n      $(this).data('timeago', { datetime: $t.parse( $t.isTime(this) ? $(this).attr(\"datetime\") : $(this).attr(\"title\") ) });\n      refresh.apply(this);\n    },\n    dispose: function () {\n      if (this._timeagoInterval) {\n        window.clearInterval(this._timeagoInterval);\n        this._timeagoInterval = null;\n      }\n    }\n  };\n\n  $.fn.timeago = function(action, options) {\n    var fn = action ? functions[action] : functions.init;\n    if (!fn) {\n      throw new Error(\"Unknown function name '\"+ action +\"' for timeago\");\n    }\n    // each over objects here and call the requested function\n    this.each(function() {\n      fn.call(this, options);\n    });\n    return this;\n  };\n\n  function refresh() {\n    var $s = $t.settings;\n\n    //check if it's still visible\n    if ($s.autoDispose && !$.contains(document.documentElement,this)) {\n      //stop if it has been removed\n      $(this).timeago(\"dispose\");\n      return this;\n    }\n\n    var data = prepareData(this);\n\n    if (!isNaN(data.datetime)) {\n      if ( $s.cutoff === 0 || Math.abs(distance(data.datetime)) < $s.cutoff) {\n        $(this).text(inWords(data.datetime));\n      } else {\n        if ($(this).attr('title').length > 0) {\n            $(this).text($(this).attr('title'));\n        }\n      }\n    }\n    return this;\n  }\n\n  function prepareData(element) {\n    element = $(element);\n    if (!element.data(\"timeago\")) {\n      element.data(\"timeago\", { datetime: $t.datetime(element) });\n      var text = $.trim(element.text());\n      if ($t.settings.localeTitle) {\n        element.attr(\"title\", element.data('timeago').datetime.toLocaleString());\n      } else if (text.length > 0 && !($t.isTime(element) && element.attr(\"title\"))) {\n        element.attr(\"title\", text);\n      }\n    }\n    return element.data(\"timeago\");\n  }\n\n  function inWords(date) {\n    return $t.inWords(distance(date));\n  }\n\n  function distance(date) {\n    return (new Date().getTime() - date.getTime());\n  }\n\n  // fix for IE6 suckage\n  document.createElement(\"abbr\");\n  document.createElement(\"time\");\n}));\n\n// ==== RESPONSIVE MENU ==== //\n\n// Menu toggle script adapted from _s: https://github.com/Automattic/_s\n;(function() {\n  \n} )();\n\n// ==== FOOTER ==== //\n\n// A simple wrapper for all your custom jQuery that belongs in the footer\n;(function($){\n  $(function(){\n    if( $('#home').val() !== undefined ) {\n      var selectedStates = ['ak', 'az', 'ar', 'ca', 'ct', 'co', 'de', 'fl', 'hi', 'il', 'ma', 'md', 'me', 'mi', 'mn', 'mt', 'nv', 'nh', 'nj', 'nm', 'ny', 'nd', 'oh', 'or', 'pa', 'ri', 'vt', 'wa', 'wv'];\n      var stateArr = {\n        'alaska': 'Alaska',\n        'arizona': 'Arizona',\n        'arkansas': 'Arkansas',\n        'california': 'California',\n        'colorado': 'Colorado',\n        'connecticut': 'Connecticut',\n        'delaware': 'Delaware',\n        'florida': 'Florida',\n        'hawaii': 'Hawaii',\n        'illinois': 'Illinois',\n        'maine': 'Maine',\n        'maryland': 'Maryland',\n        'massachusetts': 'Massachusetts',\n        'michigan': 'Michigan',\n        'minnesota': 'Minnesota',\n        'montana': 'Montana',\n        'nevada': 'Nevada',\n        'new-hampshire': 'New Hampshire',\n        'new-jersey': 'New Jersey',\n        'new-mexico': 'New Mexico',\n        'new-york': 'New York',\n        'north-dakota': 'North Dakota',\n        'ohio': 'Ohio',\n        'oregon': 'Oregon',\n        'pennsylvania': 'Pennsylvania',\n        'rhode-island': 'Rhode Island',\n        'vermont': 'Vermont',\n        'washington': 'Washington',\n        'west-virginia': 'West Virginia'\n      };\n\n      jQuery(document).ready(function () {\n        jQuery('#map').vectorMap({\n          map: 'usa_en',\n          enableZoom: false,\n          backgroundColor: '#fff',\n          showTooltip: true,\n          hoverColor: null,\n          selectedColor: '#2b5a22',\n          color: '#fff',\n          borderColor: '#000',\n          selectedRegions: selectedStates,\n          onRegionOver: function (event, code) {\n          },\n          onRegionClick: function(event, code, region){\n            event.preventDefault();\n            $.each( stateArr, function( key, value ) {\n              if( region === value ) {\n                location.href = '/category/state/' + key;\n              }\n            });\n          }\n        });\n      });\n    }\n  });\n}(jQuery));\n"]}